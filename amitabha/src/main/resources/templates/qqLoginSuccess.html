<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css"
	rel="stylesheet" />
	
<link rel="stylesheet" type="text/css" href="easyui/themes/default/easyui.css" />
<link rel="stylesheet" type="text/css" href="easyui/themes/icon.css" />
<script type="text/javascript" src="easyui/jquery.min.js"></script>
<script type="text/javascript" src="easyui/jquery.easyui.min.js"></script>

    <title>登陆成功</title>

    <style type="text/css">
        A
        {
            text-decoration: none;
        }
        a:hover
        {
            text-decoration: underline;
        }
        BODY
        {
            font-family: Verdana;
            font-size: 12px;
            margin: 0;
            color: #000000;
            background: #ffffff;
        }
        TD
        {
            border-right: 1px;
            border-top: 0px;
            font-size: 9pt;
            color: #000000;
        }
        .index_font
        {
            color: #3A4F6C;
            background-color: #EBEBEB;
            font-weight: bold;
            padding: 5px;
        }
    </style>
<script th:inline="javascript">
//Get the original value when initial loading..
/*<![CDATA[*/
var qqName = /*[[${qqName}]]*/'';
var qqLogo = /*[[${qqLogo}]]*/'';
var redirectUrl = /*[[@{${redirectUrl}}]]*/'';
var fromUrl = /*[[${fromUrl}]]*/'';
var sessionId = /*[[${sessionId}]]*/'';
var userId = /*[[${AuthorizationInfo.userId}]]*/'';
var openId = /*[[${openId}]]*/'';
/*]]>*/
 </script>

<script>
<!--
var closeBuffer;
 function closeAfterOneMinutes() {
	 closeBuffer += 1;
	 if(closeBuffer > 100) {
		window.close();
	 } else {
	     setTimeout("closeAfterOneMinutes()", 30);
	 }
 }
 
 function onLoadInit() {
	 closeBuffer=1;
	 closeAfterOneMinutes();

	 $("#qqName", opener.document).val(qqName);
	 $("#qqLogo", opener.document).val(qqLogo);
	 $("#sessionId", opener.document).val(sessionId);
	 $("#openId", opener.document).val(openId);
	 $("#id", opener.document).val(userId);
	 opener.afterLoginCompletion();

 }
//-->
</script>

</head>

<body vlink="#333333" link="#333333" onload="onLoadInit();">
    <br />
    <table width="100%" border="0" cellspacing="0" cellpadding="0" height="90%" align="center">
        <tr align="center" valign="middle">
            <td>
                <table border="0" cellspacing="1" cellpadding="10" bgcolor="#666666" width="600">
                    <tr>
                        <td class='index_font' align="center" bgcolor="#9999cc">
                            <p>
                                <meta content="Microsoft FrontPage 4.0" name="GENERATOR" />
                                <style>
                                    .proccess
                                    {
                                        background: #ffffff;
                                        border-bottom: 1px solid;
                                        border-left: 1px solid;
                                        border-right: 1px solid;
                                        border-top: 1px solid;
                                        height: 8px;
                                        margin: 3px;
                                        width: 8px;
                                    }
                                </style>
                                <div align="center">
                                    <table align="center" height="70%" valign="middle">
                                        <tbody>
                                            <tr>
                                                <td align="middle">
                                                    <!--  Displaytext-->
                                                    登陆成功！！   <font class="fontbig">页面跳转中.....
                                                        <!--End Displaytext-->
                                                        <div align="center">
                                                            <form th:action="@{${redirectUrl}}" id="go" method="POST" name="proccess">
                                                            <script language="javascript">
                                                            <!--
                                                                for (i = 0; i < 30; i++) document.write("<input class=proccess>")
                                                             //-->
                                                            </script>
                                                            <input type="hidden" name="qqName" id="qqName" th:value="${qqName}" />
                                                            <input type="hidden" name="qqLogo" id="qqLogo" th:value="${qqLogo}" />
                                                            <input type="hidden" name="sessionId" id="sessionId" th:value="${sessionId}" />
                                                            <input type="hidden" name="openId" id="openId" th:value="${openId}" />
                                                            <input type="hidden" name="id" id="id" th:value="${AuthorizationInfo.userId}" />
                                                            </form>
                                                        </div>
                                                    </font>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div align="center">
                                        <script language="JavaScript">
                                        <!--
                                            var p = 0, j = 0;
                                            var c = new Array("lightskyblue", "white")
                                            setInterval('proccess();', 100)
                                            function proccess() {
                                                document.forms.proccess.elements[p].style.background = c[j];
                                                p += 1;
                                                if (p == 30) { p = 0; j = 1 - j; } 
                                            }
                                         //-->
                                         </script>
                                    </div>
                                </div>
                                <a href="#" onclick="$('#go').submit();return false;" class="index_font">如果您的浏览器没有自动跳转,请点击这里</a></p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>